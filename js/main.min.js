/* ArcVantage Design Studios - Minified Main JavaScript for Production */
document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("header"),t=document.querySelector(".mobile-menu-toggle"),n=document.getElementById("main-nav"),o=document.querySelectorAll("#main-nav a, .footer-links a"),r=document.querySelectorAll(".section"),s=document.getElementById("hero");e.classList.add("header-transparent"),loadServicesData(),t&&n&&t.addEventListener("click",function(){n.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("menu-open")});const a=document.querySelectorAll("#main-nav a, .footer-links a, .hero-cta a");function i(){window.scrollY>50?(e.classList.add("scrolled"),e.classList.remove("header-transparent")):(e.classList.remove("scrolled"),e.classList.add("header-transparent")),c();if(s){const t=window.scrollY;if(t<window.innerHeight){const n=s.querySelector(".hero-background");n&&(n.style.transform=`translateY(${.3*t}px)`);const o=s.querySelector(".hero-content");o&&(o.style.transform=`translateY(${.15*t}px)`,o.style.opacity=1-.002*t)}}}function c(){const t=window.scrollY+e.offsetHeight+10;r.forEach(e=>{const n=e.offsetTop,r=e.offsetHeight,s=e.getAttribute("id");t>=n&&t<n+r&&(o.forEach(e=>e.classList.remove("active")),document.querySelectorAll(`a[href="#${s}"]`).forEach(e=>e.classList.add("active")))})}function l(){const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function d(){const e=window.innerWidth<768,t=window.innerWidth>=768&&window.innerWidth<1024,n=window.innerWidth>=1024;document.body.classList.toggle("mobile",e),document.body.classList.toggle("tablet",t),document.body.classList.toggle("desktop",n);document.querySelectorAll(".services-grid, .projects-grid, .blog-grid").forEach(o=>{e?o.style.gridTemplateColumns="1fr":t?o.style.gridTemplateColumns="repeat(2, 1fr)":n&&(o.classList.contains("services-grid")?o.style.gridTemplateColumns="repeat(4, 1fr)":o.style.gridTemplateColumns="repeat(3, 1fr)")});document.querySelectorAll(".modal, .project-modal").forEach(n=>{e?(n.style.width="95vw",n.style.height="90vh"):t?(n.style.width="80vw",n.style.height="80vh"):(n.style.width="70vw",n.style.height="70vh")})}a.forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const o=this.getAttribute("href"),r=document.querySelector(o);if(r){const n=e.offsetHeight,s=this.classList.contains("cta-button")?200:0;s&&(this.classList.add("active"),setTimeout(()=>{this.classList.remove("active")},s)),setTimeout(()=>{window.scrollTo({top:r.offsetTop-n,behavior:"smooth"}),n&&n.classList.contains("active")&&(n.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("menu-open")),o.forEach(e=>e.classList.remove("active"));const e=document.querySelector(`#main-nav a[href="${o}"]`);e&&e.classList.add("active")},s)}})}),window.addEventListener("scroll",i),i(),window.addEventListener("resize",function(){window.innerWidth>=768&&n.classList.contains("active")&&(n.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("menu-open")),s&&adjustHeroHeight()}),window.addEventListener("orientationchange",function(){setTimeout(function(){n&&n.classList.contains("active")&&(n.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("menu-open")),s&&adjustHeroHeight(),d(),document.querySelectorAll(".service-card-inner.clicked").forEach(e=>{e.classList.remove("clicked")}),l(),i()},100)}),l(),d(),setTimeout(initializeTouchInteractions,100),initPerformanceOptimizations(),s&&s.addEventListener("mousemove",function(e){const t=document.querySelectorAll(".arc-element"),n=e.clientX/window.innerWidth,o=e.clientY/window.innerHeight;t.forEach((e,t)=>{const r=10*(n-.5)+(5*t),s=10*(o-.5)+(5*t);e.style.transform=`translate(${r}px, ${s}px)`})});function u(){fetch("data/services.json").then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{m(e.services),g(e.process),p(e.pricing),f(e.consultation)}).catch(e=>{console.error("Error loading services data:",e)})}function m(e){const t=document.querySelector(".services-grid");if(!t||!e)return;t.innerHTML="",e.forEach(e=>{const n=document.createElement("div");n.className="service-card",n.setAttribute("data-service",e.id),n.setAttribute("tabindex","0"),n.innerHTML=`\n                <div class="service-card-inner">\n                    <div class="service-front">\n                        <div class="service-icon">\n                            <i class="fas fa-${e.icon}"></i>\n                        </div>\n                        <h3>${e.title}</h3>\n                        <p>${e.shortDescription}</p>\n                        <div class="service-more">\n                            <span>Learn More</span>\n                            <i class="fas fa-arrow-right"></i>\n                        </div>\n                    </div>\n                    <div class="service-back">\n                        <h4>${e.title}</h4>\n                        <ul class="service-features">\n                            ${e.features.map(e=>`\n                                <li><i class="fas fa-check-circle"></i> ${e}</li>\n                            `).join("")}\n                        </ul>\n                        <p class="arc-integration">${e.arcIntegration}</p>\n                        <div class="service-cta">\n                            <a href="#contact" class="btn btn-outline">Get Started</a>\n                        </div>\n                    </div>\n                </div>\n            `,t.appendChild(n)})}function g(e){const t=document.querySelector(".process-steps");if(!t||!e)return;t.innerHTML="",e.forEach(e=>{const n=document.createElement("div");n.className="process-step",n.innerHTML=`\n                <div class="step-number">${e.step}</div>\n                <div class="step-content">\n                    <h4>${e.title}</h4>\n                    <p>${e.description}</p>\n                </div>\n            `,t.appendChild(n)})}function p(e){const t=document.querySelector(".pricing-tiers");if(!t||!e)return;t.innerHTML="",e.forEach(e=>{const n=document.createElement("div");n.className=`pricing-tier${e.featured?" featured":""}`,n.innerHTML=`\n                ${e.featured?'<div class="tier-badge">Most Popular</div>':""}\n                <div class="tier-header">\n                    <h4>${e.tier}</h4>\n                    <div class="tier-price">${e.price}</div>\n                </div>\n                <div class="tier-features">\n                    <ul>\n                        ${e.features.map(e=>`\n                            <li><i class="fas fa-check"></i> ${e}</li>\n                        `).join("")}\n                    </ul>\n                </div>\n                <div class="tier-cta">\n                    <a href="#contact" class="${e.featured?"btn":"btn btn-outline"}">${"Signature"===e.tier?"Request Quote":"Select Plan"}</a>\n                </div>\n            `,t.appendChild(n)})}function f(e){const t=document.querySelector(".consultation-info");if(!t||!e)return;const n=t.querySelector(".consultation-description");if(n){n.innerHTML="";const o=document.createElement("h4");o.textContent=e.title,n.appendChild(o);const r=document.createElement("p");r.textContent=e.description,n.appendChild(r);const s=document.createElement("h4");s.textContent="What to Expect",n.appendChild(s);const a=document.createElement("ul");a.className="consultation-steps",e.steps.forEach(e=>{const t=document.createElement("li");t.innerHTML=`\n                    <span class="step-icon"><i class="fas fa-${e.icon}"></i></span>\n                    <div class="step-text">\n                        <h5>${e.title}</h5>\n                        <p>${e.description}</p>\n                    </div>\n                `,a.appendChild(t)}),n.appendChild(a)}const o=t.querySelector(".consultation-cta");if(o&&e.cta){o.innerHTML="";const n=document.createElement("h4");n.textContent=e.cta.title,o.appendChild(n);const r=document.createElement("p");r.textContent=e.cta.description,o.appendChild(r);const s=document.createElement("a");s.href="#contact",s.className="cta-button",s.textContent="Book Consultation",o.appendChild(s)}}function initPerformanceOptimizations(){!function(){const e=new Image;e.src="images/hero/hero-background.jpg",["images/projects/project1-main.jpg","images/projects/project2-main.jpg","images/projects/project3-main.jpg"].forEach(e=>{const t=new Image;t.src=e}),"fetch"in window&&(fetch("data/projects.json").catch(()=>{}),fetch("data/services.json").catch(()=>{}),fetch("data/blog-posts.json").catch(()=>{}))}(),function(){document.querySelectorAll("img").forEach(e=>{e.hasAttribute("loading")||e.setAttribute("loading","lazy"),e.setAttribute("decoding","async"),e.style.imageRendering="auto",e.addEventListener("error",function(){this.style.display="none",console.warn("Failed to load image:",this.src)})})}(),function(){if("performance"in window&&"getEntriesByType"in performance&&window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];if(e){const t=e.loadEventEnd-e.fetchStart;console.log(`Page load time: ${t}ms`),t>3e3&&console.warn("Page load time exceeds 3 seconds")}},0)}),"PerformanceObserver"in window)try{new PerformanceObserver(e=>{const t=e.getEntries()[e.getEntries().length-1];console.log("LCP:",t.startTime)}).observe({entryTypes:["largest-contentful-paint"]})}catch(e){}}(),function(){const e=document.head,t=document.createElement("link");t.rel="dns-prefetch",t.href="//fonts.googleapis.com",e.appendChild(t);const n=document.createElement("link");n.rel="preconnect",n.href="https://fonts.gstatic.com",n.crossOrigin="anonymous",e.appendChild(n)}(),function(){document.querySelectorAll(".arc-element, .hero-content").forEach(e=>{e.style.willChange="transform",e.style.transform="translateZ(0)"});if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches){document.documentElement.style.setProperty("--transition-fast","0s"),document.documentElement.style.setProperty("--transition-normal","0s"),document.documentElement.style.setProperty("--transition-slow","0s");const e=document.getElementById("hero");e&&e.removeEventListener("mousemove",()=>{})}}()}});